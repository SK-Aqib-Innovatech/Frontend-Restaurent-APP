<ion-content [fullscreen]="true">
  <div class="min-h-screen bg-background pb-32">
    <app-profile-header (back)="onBack()" (settings)="onOpenSettings()"></app-profile-header>

    <main class="overflow-y-auto max-width-464 mx-auto">
      <app-profile-user-card [user]="user" (edit)="onEditProfile()"></app-profile-user-card>
      <app-profile-rewards-card
        [user]="user"
        (redeem)="onRedeemPoints()"
      ></app-profile-rewards-card>

      <app-profile-menu-section
        title="My Activity"
        [items]="activityItems"
        (itemClick)="onMenuItemClick($event)"
      ></app-profile-menu-section>

      <app-profile-menu-section
        title="Account Settings"
        [items]="settingsItems"
        (itemClick)="onMenuItemClick($event)"
      ></app-profile-menu-section>

      <div class="px-4 mb-10">
        <app-button variant="danger" size="md" [fullWidth]="true" (clicked)="onLogout()">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"
            />
          </svg>
          Logout
        </app-button>

        <div class="mt-6 text-center">
          <p class="text-xs text-muted">{{ versionText }}</p>
        </div>
      </div>
    </main>

    <app-bottom-nav [items]="bottomNavItems" [activeRoute]="'/profile'"></app-bottom-nav>
  </div>
</ion-content>
