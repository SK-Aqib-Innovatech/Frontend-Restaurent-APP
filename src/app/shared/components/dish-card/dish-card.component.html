<div class="relative group">
  <!-- Image Container -->
  <div class="relative aspect-[16/11] overflow-hidden rounded-3xl">
    <img
      [src]="dish.image"
      [alt]="dish.name"
      class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
    />

    <!-- Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"></div>

    <!-- Badge -->
    <div *ngIf="dish.badge" class="absolute top-4 left-4">
      <span
        [class]="getBadgeClass()"
        class="text-white text-[10px] font-extrabold px-3 py-1.5 rounded-lg uppercase tracking-widest shadow-lg flex items-center gap-1.5"
      >
        <i *ngIf="dish.badge.icon" class="fa-solid text-[10px]" [ngClass]="getBadgeIconClass(dish.badge.icon)"></i>
        {{ dish.badge.text }}
      </span>
    </div>

    <!-- Favorite Button -->
    <button
      (click)="onFavoriteClick($event)"
      class="absolute top-4 right-4 w-10 h-10 rounded-full bg-black/40 backdrop-blur-md border border-white/10 flex items-center justify-center text-white transition-all hover:bg-black/60"
    >
      <i
        class="w-5 h-5 text-lg flex items-center justify-center"
        [ngClass]="{
          'fa-heart': true,
          'fa-solid': !!dish.isFavorite,
          'fa-regular': !dish.isFavorite,
          'text-primary': !!dish.isFavorite,
          'text-white': !dish.isFavorite
        }"
      ></i>
    </button>

    <!-- Bottom Info -->
    <div class="absolute bottom-4 left-4 right-4 flex justify-between items-end">
      <div class="flex-1">
        <app-rating-badge
          [rating]="dish.rating"
          [count]="dish.ratingCount"
          class="mb-1"
        ></app-rating-badge>

        <h3 class="text-xl font-extrabold text-white leading-tight">
          {{ dish.name }}
        </h3>
      </div>

      <div class="text-right flex flex-col items-end">
        <span *ngIf="dish.originalPrice" class="text-muted text-xs line-through font-bold mb-0.5">
          ${{ dish.originalPrice.toFixed(2) }}
        </span>
        <span class="text-primary text-xl font-extrabold"> ${{ dish.price.toFixed(2) }} </span>
      </div>
    </div>
  </div>

  <!-- Add Button -->
  <div class="mt-4 flex items-center gap-3">
    <button
      (click)="onAdd()"
      class="flex-1 bg-primary text-white font-extrabold py-3.5 rounded-2xl flex items-center justify-center gap-2 shadow-lg shadow-primary/25 active:scale-95 transition-transform"
    >
      <i class="fa-solid fa-plus w-5 h-5 text-base flex items-center justify-center"></i>
      Add to Order
    </button>
  </div>
</div>
