<div class="relative group">
  <!-- Image Container -->
  <div class="relative aspect-[16/11] overflow-hidden rounded-3xl">
    <img
      [src]="dish.image"
      [alt]="dish.name"
      class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
    />

    <!-- Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"></div>

    <!-- Badge -->
    <div *ngIf="dish.badge" class="absolute top-4 left-4">
      <span
        [class]="getBadgeClass()"
        class="text-white text-[10px] font-extrabold px-3 py-1.5 rounded-lg uppercase tracking-widest shadow-lg flex items-center gap-1.5"
      >
        <svg *ngIf="dish.badge.icon" class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
          <path
            d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
          />
        </svg>
        {{ dish.badge.text }}
      </span>
    </div>

    <!-- Favorite Button -->
    <button
      (click)="onFavoriteClick($event)"
      class="absolute top-4 right-4 w-10 h-10 rounded-full bg-black/40 backdrop-blur-md border border-white/10 flex items-center justify-center text-white transition-all hover:bg-black/60"
    >
      <svg
        class="w-5 h-5"
        [class.fill-primary]="dish.isFavorite"
        [class.fill-none]="!dish.isFavorite"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
        />
      </svg>
    </button>

    <!-- Bottom Info -->
    <div class="absolute bottom-4 left-4 right-4 flex justify-between items-end">
      <div class="flex-1">
        <app-rating-badge
          [rating]="dish.rating"
          [count]="dish.ratingCount"
          class="mb-1"
        ></app-rating-badge>

        <h3 class="text-xl font-extrabold text-white leading-tight">
          {{ dish.name }}
        </h3>
      </div>

      <div class="text-right flex flex-col items-end">
        <span *ngIf="dish.originalPrice" class="text-muted text-xs line-through font-bold mb-0.5">
          ${{ dish.originalPrice.toFixed(2) }}
        </span>
        <span class="text-primary text-xl font-extrabold"> ${{ dish.price.toFixed(2) }} </span>
      </div>
    </div>
  </div>

  <!-- Add Button -->
  <div class="mt-4 flex items-center gap-3">
    <button
      (click)="onAdd()"
      class="flex-1 bg-primary text-white font-extrabold py-3.5 rounded-2xl flex items-center justify-center gap-2 shadow-lg shadow-primary/25 active:scale-95 transition-transform"
    >
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
      </svg>
      Add to Order
    </button>
  </div>
</div>
